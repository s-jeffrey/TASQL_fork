"To generate the SQL query for the given question, we need to consider the conditions specified: accounts with an opening date before 1997 and a balance greater than 3000 USD. We will use the `account` and `trans` tables to get this information. The `account` table provides the account opening date, and the `trans` table provides the balance information.\n\nHere's the SQL query to answer the question:\n\n```sql\nSELECT DISTINCT a.account_id\nFROM account a\nJOIN trans t ON a.account_id = t.account_id\nWHERE a.date < '1997-01-01'\nAND t.balance > 3000;\n```\n\n### Explanation:\n- **`SELECT DISTINCT a.account_id`**: We select distinct account IDs to ensure we only list each account once.\n- **`FROM account a`**: We start from the `account` table, aliasing it as `a`.\n- **`JOIN trans t ON a.account_id = t.account_id`**: We join the `trans` table on the `account_id` to access the balance information.\n- **`WHERE a.date < '1997-01-01'`**: We filter accounts with an opening date before 1997.\n- **`AND t.balance > 3000`**: We filter for accounts with a balance greater than 3000 USD.\n\nThis query assumes that the `balance` column in the `trans` table represents the current balance of the account. If the balance is stored differently, such as in a separate table or column, the query would need to be adjusted accordingly."