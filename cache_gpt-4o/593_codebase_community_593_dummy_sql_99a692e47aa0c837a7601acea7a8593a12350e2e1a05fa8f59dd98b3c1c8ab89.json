"```sql\nSELECT COUNT(DISTINCT users.Id)\nFROM users\nJOIN badges ON users.Id = badges.UserId\nWHERE users.Location = 'New York'\nAND badges.Name IN ('Supporter', 'Teacher')\nGROUP BY users.Id\nHAVING COUNT(DISTINCT badges.Name) = 2;\n```\n\nThis SQL query counts the number of distinct users from New York who have both the \"Supporter\" and \"Teacher\" badges. It joins the `users` and `badges` tables on the `UserId`, filters for users located in New York, and checks for the presence of both badge names. The `GROUP BY` and `HAVING` clauses ensure that only users with both badges are counted."